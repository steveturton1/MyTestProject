{% extends "layout.html" %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/main.css') }}"/>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/admin.css') }}"/>
{% endblock %}

{% block js %}
    <script type="text/javascript" src="{{ url_for('static', filename='js/mvc/users.js') }}"></script>
{% endblock %}

{% block content %}

    {% include "admin_menu.html" %}

    <section id="users">
        <div id="usersList">
        </div>
    </section>


    {% raw %}
    <script id="templateUserItems" type="text/x-jsrender">
        <ul id="userItemsMainBit" style="display:block; float:left">
		{{for users}}
			<li id="item{{:id}}">
				<dl style="min-height:20px">
					<dt style="padding-left:10px;margin-left:0;width:50px;">{{:id}}</dt>
					<dd style="padding-left:0px;width:300px;">{{:name}}</dd>
					<dd style="padding-left:0px;width:300px;">{{:email}}</dd>
					<dd class="user-actions" style="top:2px;">
						<span id="edit_{{:id}}" class="user-action-edit" onclick="controller.renderEdit({{:id}})"></span>
						<span id="delete_{{:id}}" class="user-action-delete" onclick="controller.renderDelete({{:id}})"></span>
					</dd>
				</dl>
			</li>
		{{/for}}
	</ul>
    </script>
    {% endraw %}

{% endblock %}

{% block scripts %}

    <script type="text/javascript">
        controller = new UsersController();
        controller.index();
    </script>

{% endblock %}